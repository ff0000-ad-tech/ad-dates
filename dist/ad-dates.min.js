!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.adDates=t():e.adDates=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);["TzDate","RecurringSchedule","DateSchedule","spanish","DateFormatter","DateManager","DateUtils","Timezone"].forEach(function(e){window[e]=r[e]})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){var n="";for(e<0&&(n="-"),e=e.toString().replace(/\-/,"",e);e.length<t;)e="0"+e;return n+e}function o(e){E=e||E}function i(e){for(var t in e)M[t]=e[t]}function u(e){return M[e||E]}function c(e,t){var e=e.toString(),n=e.slice(e.length-1),r=u(),a=r.TH;switch(n){case"1":"11"!=e&&(a=r.ST);break;case"2":"12"!=e&&(a=r.ND);break;case"3":"13"!=e&&(a=r.RD)}return(t?e:"")+a}function l(e,t,n){n=n||{};var r=n.inTimezone||e.outputTimezone,o=n.language,i=e.getIn(r),l=u(o),s=i.getMonth(),f=i.getHours(),d=i.getMinutes();return t.replace(/\$\{(.*?)\}/g,function(e,t){var n=t,o=0,u=void 0,g=!1,m=!0,T=!0;switch(t.replace(/(.+)(\^)/,function(e,n){t=n,g=!0}),2==t.length&&t.replace(/(?![Yo])([a-zA-Z]).*?\1/,function(e,n){t=n.substr(0,1),u=2}),t){case"YY":o=-2;case"YYYY":n=(""+i.getFullYear()).slice(o);break;case"M":n=s+1;break;case"MMM":n=l.MONTHS_ABRV[s];break;case"MMMM":n=l.MONTHS_FULL[s];break;case"D":n=i.getDate();break;case"o":T=!1;case"Do":n=c(i.getDate(),T);break;case"DDD":n=l.WEEKDAYS_ABRV[i.getDay()];break;case"DDDD":n=l.WEEKDAYS_FULL[i.getDay()];break;case"t":m=!1;case"T":n=f,m||0==(n%=12)&&(n=12),d>0&&(u=!0),u&&(n+=":"+a(d,2));break;case"H":n=f;break;case"h":n=f%12,0==n&&(n=12);break;case"m":n=d;break;case"s":n=i.getSeconds();break;case"a":n=f>=12?"pm":"am";break;case"z":n=r.abbr[0]}return u&&(n=a(n,u)),g&&"string"==typeof n&&(n=n.toUpperCase()),n})}function s(e){var t={},n=window.location.href.split("?");if(n.length>1){var r=n[1].split("&");for(var a in r){var o=r[a].split("=");2==o.length&&(t[o[0]]=decodeURIComponent(o[1]))}}return e?t[e]:Object.keys(t).length>0?t:void 0}function f(e,t){var n=t.getTime()/1e3-e.getTime()/1e3;n<0&&(n=0);for(var r={day:n/86400,hour:n/3600%24,minute:n/60%60,second:n%60,output:""},a=["day","hour","minute","second"],o=0;o<4;o++)r.output+=TextUtils.pad(Math.floor(r[a[o]]),2),o<3&&(r.output+=":");return r}function d(e,t){var n=void 0;n=e._isTzDate?e.clone():new Date(e);for(var r in t){var a=w[r.toUpperCase()],o=t[r]*a;n.setTime(n.getTime()+o)}return n}function g(e,t){return void 0==t&&(t=H.getNow()),t.getTime()>=e.getTime()}function m(){return x}function T(e){_=p(e);var t=_.value,n=(new Date).getTimezoneOffset(),r=Math.floor(n/60),a=n%60,o=Math.floor(t),i=t%1*60,u=-(o+r),c=-(i+a);t>0&&(u=24+u),console.log("hr:",r,"min:",a,"| adjHr:",u,"adjMin:",c),x[0]=u,x[1]=c,console.log("Timezone.setLocal() ->",_,e,t,x)}function p(e,t){var n=e;if("local"==e||void 0==e)n=_?"string"==typeof _?_:_.label:b(t);else{if("UTC"==e||"UTC"==e.label||"utc"==e)return{label:"UTC",abbr:["utc"],value:0};"trueLocal"==e&&(n=b(t))}if("string"==typeof n){if(n.length<5){var r=D(n);r&&(n=r)}}else n=e.label;var a={},o=I[n];if(o){var i=o.split("|");a.label=n,a.abbr=i[0].split(",");var u=i[1].split(",");if(u.length>1){var c=t||new Date,l=c.getFullYear();l<2018&&(l=2018);var s=n.split("/"),f=h(s[0],l);f||(f=h(s[1],l));var g=f.split(","),m=new Date(l+"-"+g[0]+"T03:00:00"+v(u[1])),T=new Date(l+"-"+g[1]+"T03:00:00"+v(u[0])),p=(d(c,{hour:u[0]}),c.getTime()>m.getTime()&&c.getTime()<T.getTime()),S=p?0:1;a.value=u[S]}else a.value=u[0]}else a.label=n,a.abbr=[n.toLowerCase()],a.value=-(new Date).getTimezoneOffset()/60;return a}function v(e){var t=isNaN(e)?e.value:e,n=t>0?Math.floor(t):Math.ceil(t),r=t%1*60;return r=t>0?Math.floor(r):Math.ceil(r),(t<0?"-":"+")+a(Math.abs(n),2)+":"+a(Math.abs(r),2)}function D(e){var t=void 0,n=e.toLowerCase();for(var r in I){if(I[r].split("|")[0].split(",").indexOf(n)>=0){t=r;break}}return t}function b(e){var t=e||new Date,n=t.toTimeString(),r=n.split("(")[1];return r=r.substr(0,r.length-1),r.replace(/[a-z\.\s]/g,"")}function h(e,t){if("string"==typeof L[e]){var n=L[e].split("|").map(function(e){return e.split(",").map(function(e){return a(e,2)})});L[e]={};var r=n[0],o=n[2];n[1].map(function(t,n){L[e][k+n]=r[0]+"-"+t+","+r[1]+"-"+o[n]})}if(L[e])return L[e][t]}function S(e){e=e||{};var t="local",n=e.datetime;if(Array.isArray(n)){n=e.datetime[0],t=e.datetime[1];if(!n.match(/(\+|\-)([0-9]{2})\:([0-9]{2})/g)){n+=v(p(t))}}"string"==typeof n&&(n=n.replace(/(\T|\s)/g,"T")),e.outputTimezone?t=e.outputTimezone:H.defaultTimezone&&(t=H.defaultTimezone);var r=new Date(n);return Object.defineProperties(r,{outputTimezone:{get:function(){return t},set:function(e){t=p(e)}}}),r.clone=function(e){return e=e||r.outputTimezone,new S({datetime:r,outputTimezone:e})},r.getHoursIn=function(e,t){var n=r.getIn(e),a=n.getHours();return 1!=t&&a>12&&(a%=12),a},r.format=function(e,t){return l(r,e,t)},r.getIn=function(e){var t=r.toISOString().split(".")[0],n=v(p("trueLocal",r)),a=p(e||r.outputTimezone,r);return d(new Date(t+n),{hour:a.value})},r.print=function(e){var t=r.toFullDateTime(e);return console.log(t),t},r.toFullDateTime=function(e){return e=e||r.outputTimezone,r.getIn(e).toString().split("GMT")[0]+e.label},r.toSimpleDate=function(e){var t=r.getIn(e);return t.getMonth()+1+"/"+t.getDate()},r.toDate=function(e){var t=r.getIn(e);return r.toSimpleDate(e)+"/"+t.getFullYear()},r.toDateTime=function(e){return r.toDate(e)+" "+r.toTime(e)},r.toSimpleDateTime=function(){return r.toSimpleDate()+" "+r.toTime()},r.toTime=function(e){return r.toSimpleTime(e)+" "+r.toMeridiem(e)},r.toSimpleTime=function(e,t){var n=r.getIn(e),o=r.getHoursIn(e,t);return 0!=o||t||(o=12),t&&(o=a(o,2)),o+":"+a(n.getMinutes(),2)},r.toMeridiem=function(e,t){var n=e||r.outputTimezone;return(r.getIn(n).getHours()>=12?"pm":"am")+(1==t?"/"+n.abbr[0]:"")},r.toShortestTime=function(e,t){return r.toSimpleTime(e,t).replace(/:00$/g,"")},r.toDateTimeISO=function(e){var t=r.toDate(e),n=t.split("/");return n[2]+"-"+a(n[0],2)+"-"+a(n[1],2)+"T"+r.toSimpleTime(e,!0)+":00"},r.toISO=function(){return r.toDateTimeISO(r.outputTimezone)+v(r.outputTimezone)},r._isTzDate=!0,r.outputTimezone=t,r}function O(e,t,n){return Math.max(t,Math.min(n,e))}function y(e){e=e||{};var t=this,n=[],r={},o=void 0,i=!1,c=e.callback||function(){},l=e.tonightStartsAt||"17:30",s=0!=e.hasOneDayOf,f=e.eventDuration||120;Object.defineProperties(t,{target:{get:function(){return o}},current:{get:function(){return n[t.currentIndex]}},currentDate:{get:function(){return t.current.date}},currentLabel:{get:function(){return t.current.label}},currentIndex:{get:function(){for(var e=-1,t=0,r=n.length;t<r&&g(n[t].date);t++)e=t;return e}},next:{get:function(){return n[t.nextIndex]}},nextDate:{get:function(){return t.next.date}},nextLabel:{get:function(){return t.next.label}},nextIndex:{get:function(){return O(t.currentIndex+1,0,n.length-1)}},isLive:{get:function(){return"NOW"==t.current.standardKey}},isComplete:{get:function(){return"PAST"==t.current.standardKey}}}),t.addDate=function(e,c,f){var g=arguments[3],T=e,v=!1,D=!0;if(!e._isTzDate){var b=o;switch(g){case"PAST":D=!1;break;case"TONIGHT":for(var h=o.toDateTimeISO().split("T")[0]+"T",O=l.split(":"),y=0;y<3;y++)h+=a(O[y]||0,2)+":";h=h.slice(0,-1),b=new S({datetime:[h,o.outputTimezone]}),v=b.getTime()>o.getTime(),i=!v,D=s&&i;break;case"TODAY":v=s&&i}D&&(b=o.clone(p("local")),b.setHours.apply(b,m())),T=d(b,e)}var A=c;if(g){var E=r[g];void 0!=E?c=E:"string"==typeof c&&(c=u()[g])}if("function"==typeof c){var M=g&&o?o:T,z=g?"WEEK"==g?A.call(t,M):u()[g]:null;c=c.call(t,M,z)}return v||(n.push({date:T,label:c,standardKey:g,callback:f||function(){}}),n.sort(function(e,t){var n=e.date.getTime(),r=t.date.getTime();return n<r?-1:n>r?1:0})),T},t.print=function(){var e=n.length;console.log("DateSchedule.print(), length:",e);for(var t=0;t<e;t++)console.log(" -",t,n[t].date.toFullDateTime(),"label:",n[t].label)},t.getDates=function(e){e=!!e;for(var t=[],r=0,a=n.length;r<a;r++)t.push(e?n[r]:n[r].date);return t};var T=e.standardOverrides;if(T)for(var v in T)r[v]=T[v];e.target&&(o=t.addDate(e.target,"",c,"NOW"),t.addDate({minute:f},"",c,"PAST")),t.addDate(new S({datetime:"2000-01-01T00:00:00+00:00",outputTimezone:"UTC"}),function(e){return e.toSimpleDateTime()},c,"DATE"),o&&1==e.isStandard&&(t.addDate({},"",c,"TONIGHT"),t.addDate({},"",c,"TODAY"),t.addDate({hour:-24},"",c,"TOMORROW"),t.addDate({hour:-144},function(e){return u().WEEKDAYS_FULL[e.getIn(o.outputTimezone).getDay()]},c,"WEEK"))}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"DateFormatter",function(){return z}),n.d(t,"DateUtils",function(){return N}),n.d(t,"Timezone",function(){return U}),n.d(t,"TzDate",function(){return S}),n.d(t,"RecurringSchedule",function(){return C}),n.d(t,"DateSchedule",function(){return y}),n.d(t,"spanish",function(){return R}),n.d(t,"DateManager",function(){return H});var A={english:{MONTHS_FULL:["January","February","March","April","May","June","July","August","September","October","November","December"],MONTHS_ABRV:["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],MONTHS_EXCP:["","","","","","","","","sept","","",""],WEEKDAYS_FULL:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],WEEKDAYS_ABRV:["sun","mon","tue","wed","thu","fri","sat"],WEEKDAYS_EXCP1:["","","tues","wednes","thur","",""],WEEKDAYS_EXCP2:["","","","","thurs","",""],ST:"st",ND:"nd",RD:"rd",TH:"th",OF:"of",TOMORROW:"Tomorrow",TODAY:"Today",TONIGHT:"Tonight",NOW:"Live Now",PAST:"Past"}},E="english",M={};i(A);var z=Object.freeze({setLanguage:o,addLanguage:i,getLabels:u,getNumericSuffixFor:c,format:l}),w={SECOND:1e3,MINUTE:6e4,HOUR:36e5,DAY:864e5,WEEK:6048e5},N=Object.freeze({getTimeDifference:f,adjust:d,isPast:g}),I={"US/Eastern":"et,edt,est|-4,-5","US/Central":"ct,cdt,cst|-5,-6","US/Mountain":"mt,mdt,mst|-6,-7","US/Pacific":"pt,pdt,pst|-7,-8","US/Alaska":"akt,akdt,akst|-8,-9","US/Arizona":"az|-7","US/Hawaii":"hast|-10","Australia/Brisbane":"aest|10","Australia/Sydney":"aedt,aest|10,11","America/Mexico_City":"mx|-5,-6","America/Bogota":"cot|-5","America/Argentina/Buenos_Aires":"art|-3"},k=2018,L={US:"3,11|11,10,8,14,13,12,10,9|4,3,1,7,6,5,3,2",Australia:"4,10|1,7,5,4,3,2,7,6|7,6,4,3,2,1,6,5",Mexico_City:"4,10|1,7,5,4,3,2,7,6|28,27,25,31,30,29,27,26"},_=void 0,x=[0,0,0],U=Object.freeze({getTzDiff:m,setLocal:T,get:p,toISO:v}),j=void 0,Y=!1,H=function e(){r(this,e)};H.defaultTimezone=void 0,H.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(console.log("DateManager.init()",e),!Y){Y=!0;var t=s("date"),n="SYSTEM-DATE";t?(j=t,n="EXTERNAL-DATE"):!e.dateOverride||"staging"!=e.environmentId&&"debug"!=e.environmentId||(j=e.dateOverride,n="INTERNAL-DATE");var r=void 0;if(j){r=new S({datetime:j}).outputTimezone,console.log("DateManager tz:",r);var a=s("tz");a&&(r=a)}T(r);var i=s("ltz");i&&(this.defaultTimezone=i),console.log("-- CURRENT DATE "+Array(104).join("-")),console.log(""),console.log("\t DATE-MODE:"),console.log("\t\t",n),console.log(""),console.log("\t Time for this unit is now assumed to be: "),console.log("\t\t",this.getNow().toFullDateTime()),console.log(""),i&&(console.log("\t External default timezone is: "),console.log("\t\t",i),console.log("")),console.log(Array(120).join("-")),e.language&&o(e.language)}},H.getNow=function(){var e=j;return void 0==e&&(e=(new Date).toISOString().split(".")[0]+"+00:00"),new S({datetime:e,outputTimezone:p("local")})};var C=function(e){var t,n=this;Object.defineProperties(n,{currentSchedule:{get:function(){var e=t.current.date,n=new y({target:e,isStandard:!0,eventDuration:e.eventDuration,callback:e.callback});if(n.isComplete){var r=t.next.date;n=new y({target:r,isStandard:!0,eventDuration:r.eventDuration,callback:r.callback})}return n}},current:{get:function(){return n.currentSchedule.current}},currentDate:{get:function(){return n.current.date}},currentLabel:{get:function(){return n.current.label}}}),n.print=function(){t.print()},function(){var n=H.getNow(),r=u().WEEKDAYS_FULL;t=new y;for(var a=e.tuneins,o=0;o<a.length;o++)for(var i=a[o],c=i.days,l=n.getDay(),s=0;s<c.length;s++){var f=c[s],m=r.indexOf(f),T=m-l,p=new S({datetime:[n.toDateTimeISO().split("T")[0]+"T"+i.startTime+":00",i.timezone]});if(p=d(p,{day:T}),g(p,n)){var v=d(p,{minute:i.eventDuration});g(v,n)&&(p=d(p,{day:7}))}p.eventDuration=i.eventDuration,p.callback=i.callback,console.log("\t",p.print()),t.addDate(p)}}()},R={spanish:{MONTHS_FULL:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],MONTHS_ABRV:["enero","feb","marzo","abr","mayo","jun","jul","agosto","sept","oct","nov","dic"],MONTHS_EXCP:["","","","","","","","","sep","","",""],WEEKDAYS_FULL:["domingo","lunes","martes","mi&#201;rcoles","jueves","viernes","s&#193;bado"],WEEKDAYS_ABRV:["dom","lun","mar","mi&#201;r","jue","vier","s&#193;b"],WEEKDAYS_EXCP1:["","","tues","wednes","thur","",""],WEEKDAYS_EXCP2:["","","","","thurs","",""],ST:"ro",ND:"ndo",RD:"rd",TH:"th",OF:"de",TOMORROW:"ma&#209;ana",TODAY:"hoy",TONIGHT:"esta noche",NOW:"en vivo",PAST:"past"}}}])});